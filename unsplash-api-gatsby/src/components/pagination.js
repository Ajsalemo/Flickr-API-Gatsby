// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

import React from "react"
import { Grid } from "@material-ui/core"

// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

export const Pagination = ({ totalPages, fetchMore }) => {
  console.log(totalPages)
  const paginationButtonArray = []
  for (let i = 0; i < totalPages; i++) {
    paginationButtonArray.push(
      <button
        onClick={() =>
          fetchMore({
            variables: {
              page: i + 1,
            },
            updateQuery: (prev, { fetchMoreResult }) => {
                console.log(fetchMoreResult.searchImagesByKeyword.results)
              if (!fetchMoreResult) return prev
              return Object.assign({}, prev, {
                results: [...prev.searchImagesByKeyword.results, ...fetchMoreResult.searchImagesByKeyword.results],
              })
            },
          })
        }
      >
        {i + 1}
      </button>
    )
  }
  return <Grid>{paginationButtonArray}</Grid>
}

// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
